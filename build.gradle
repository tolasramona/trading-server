plugins {
    id 'application'
    // Generate IntelliJ IDEA's .idea & .iml project files
    id 'idea'
    id "org.jetbrains.kotlin.jvm" version "1.7.21"
}

repositories {
//    maven { // The google mirror is less flaky than mavenCentral()
//        url "https://maven-central.storage-download.googleapis.com/maven2/" }
    mavenCentral()
    mavenLocal()
}

compileKotlin {
    kotlinOptions.jvmTarget = '1.8'
}

dependencies {
    implementation([
            [group: 'org.jetbrains.kotlin', name: 'kotlin-stdlib', version: '1.5.20'],
    ])

    compileOnly "org.apache.tomcat:annotations-api:6.0.53"
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'
    testImplementation "org.mockito:mockito-core:3.4.0"
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'
    testImplementation 'org.junit.jupiter:junit-jupiter-params:5.4.2'
    testImplementation("org.assertj:assertj-core:3.6.1")
}

test {
    useJUnitPlatform()
}